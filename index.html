<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>软件工程重要研究问题</title>

    <style>
      :root {
        --bg: #ffffff;
        --panel: #f7f9fc;
        --card: #ffffff;
        --text: #222;
        --muted: #666;
        --accent: #1e90ff;
        --border: #e3e8ef;
        --radius: 8px;
        --maxwidth: 1100px;
        --font-sans: "Helvetica Neue", Arial, "Noto Sans SC", sans-serif;
        --font-serif: "Noto Serif SC", serif;
        --footer-h: 50px;
      }

      /* 基本样式 */
      html,
      body {
        margin: 0;
        background: var(--bg);
        color: var(--text);
        font-family: var(--font-sans);
        padding-bottom: var(--footer-h);
      }
      header.top-header {
        width: 100%;
        text-align: center;
        padding: 28px 16px 18px;
        background: var(--bg);
      }
      .header {
        font-family: var(--font-serif);
        font-size: 32px;
        font-weight: 800;
        color: var(--accent);
      }

      /* 布局 */
      .page {
        display: flex;
        justify-content: center;
        padding: 20px 20px 40px;
      }
      .shell {
        max-width: var(--maxwidth);
        width: 100%;
        display: grid;
        grid-template-columns: 230px 1fr;
        gap: 24px;
      }

      /* 左侧 */
      .sidebar {
        background: var(--panel);
        border: 1px solid var(--border);
        padding: 18px;
        border-radius: var(--radius);
      }
      .nav-title {
        font-weight: 700;
        margin-bottom: 10px;
        font-size: 18px;
      }
      .nav-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      .nav-btn {
        width: 100%;
        padding: 10px 12px;
        font-size: 14px;
        background: transparent;
        border: 1px solid transparent;
        border-radius: 6px;
        text-align: left;
        cursor: pointer;
        transition: 0.15s;
      }
      .nav-btn:hover {
        background: #e6eef7;
      }
      .nav-btn.active {
        background: #d6e9ff;
        border-color: #1e90ff;
      }

      /* 重要问题子菜单 */
      .sub-list {
        list-style: none;
        padding-left: 10px;
        margin-top: 6px;
        display: none;
      }
      .sub-item button {
        background: transparent;
        border: none;
        padding: 6px 4px;
        font-size: 13px;
        cursor: pointer;
        color: #333;
      }
      .sub-item button:hover {
        color: var(--accent);
        text-decoration: underline;
      }

      /* 右侧内容区卡片 */
      .card {
        background: var(--card);
        padding: 16px;
        border-radius: var(--radius);
        border: 1px solid var(--border);
      }
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0 0 0 0);
        white-space: nowrap;
        border: 0;
      }

      /* 图片 */
      img.auto-img {
        max-width: 100%;
        border-radius: 6px;
        margin-bottom: 12px;
        display: block;
      }

      /* process 中 3:1 布局 */
      .process-row {
        display: flex;
        gap: 16px;
        align-items: flex-start;
      }
      .process-left {
        flex: 3;
      }
      .process-right {
        flex: 1;
      }

      /* footer */
      footer.footer {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        height: var(--footer-h);
        background: #f7f9fc;
        border-top: 1px solid var(--border);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 13px;
        color: #555;
      }
      @media (max-width: 900px) {
        .shell {
          grid-template-columns: 1fr;
        }
        .process-row {
          flex-direction: column;
        }
        .process-left,
        .process-right {
          flex: auto;
        }
      }
    </style>
  </head>
  <body>
    <header class="top-header">
      <div class="header">软件工程重要研究问题征集与发布</div>
    </header>

    <div class="page">
      <div class="shell">
        <!-- 左侧导航 -->
        <aside class="sidebar" aria-label="页面目录">
          <div class="nav-title">目录</div>
          <ul class="nav-list">
            <li>
              <button class="nav-btn" data-key="motivation">背景与动机</button>
            </li>
            <li>
              <button class="nav-btn" data-key="process">组织与流程</button>
            </li>
            <li><button class="nav-btn" data-key="template">模板</button></li>
            <li>
              <button class="nav-btn" id="issuesBtn" aria-expanded="false">
                重要问题 ▼
              </button>
              <ul class="sub-list" id="issuesList" aria-hidden="true">
                <li class="sub-item">
                  <button data-key="issue1">自动程序定理证明</button>
                </li>
                <li class="sub-item">
                  <button data-key="issue2">
                    大规模代码遗产系统的优化与重构
                  </button>
                </li>
                <li class="sub-item">
                  <button data-key="issue3">自动生成可信程序代码</button>
                </li>
              </ul>
            </li>
          </ul>
        </aside>

        <!-- 右侧内容区 -->
        <main id="mainContent" aria-live="polite">
          <!-- 默认显示：fig1 -->
          <section id="defaultView" class="card" aria-labelledby="navDefault">
            <h3 id="navDefault" class="sr-only">默认视图</h3>
            <img src="./src/fig1.png" class="auto-img" alt="fig1" />
          </section>

          <!-- 背景与动机：上下陈列 fig2 / fig3 -->
          <section
            id="motivation"
            class="card"
            style="display: none"
            aria-labelledby="navMotivation"
          >
            <h3 id="navMotivation" class="sr-only">背景与动机</h3>
            <img src="./src/fig2.png" class="auto-img" alt="fig2" />
            <img src="./src/fig3.png" class="auto-img" alt="fig3" />
          </section>

          <!-- 组织与流程：左右 3:1 fig4 / fig5 -->
          <section
            id="process"
            class="card"
            style="display: none"
            aria-labelledby="navProcess"
          >
            <h3 id="navProcess" class="sr-only">组织与流程</h3>
            <div class="process-row">
              <div class="process-left">
                <img src="./src/fig4.png" class="auto-img" alt="fig4" />
              </div>
              <div class="process-right">
                <img src="./src/fig5.png" class="auto-img" alt="fig5" />
              </div>
            </div>
          </section>

          <!-- 模板：只放 fig6 -->
          <section
            id="template"
            class="card"
            style="display: none"
            aria-labelledby="navTemplate"
          >
            <h3 id="navTemplate" class="sr-only">模板</h3>
            <img src="./src/fig6.png" class="auto-img" alt="fig6" />
          </section>

          <!-- 三个问题：分别整页显示 fig7 / fig8 / fig9 -->
          <section
            id="issue1"
            class="card"
            style="display: none"
            aria-labelledby="navIssue1"
          >
            <h3 id="navIssue1" class="sr-only">自动程序定理证明</h3>
            <img src="./src/fig7.png" class="auto-img" alt="fig7" />
          </section>

          <section
            id="issue2"
            class="card"
            style="display: none"
            aria-labelledby="navIssue2"
          >
            <h3 id="navIssue2" class="sr-only">
              大规模代码遗产系统的优化与重构
            </h3>
            <img src="./src/fig8.png" class="auto-img" alt="fig8" />
          </section>

          <section
            id="issue3"
            class="card"
            style="display: none"
            aria-labelledby="navIssue3"
          >
            <h3 id="navIssue3" class="sr-only">自动生成可信程序代码</h3>
            <img src="./src/fig9.png" class="auto-img" alt="fig9" />
          </section>
        </main>
      </div>
    </div>

    <footer class="footer">© 2025 中国计算机学会 软件工程专业委员会</footer>

    <script>
      const sections = [
        "defaultView",
        "motivation",
        "process",
        "template",
        "issue1",
        "issue2",
        "issue3",
      ];
      function showSection(id) {
        sections.forEach((s) => {
          const el = document.getElementById(s);
          if (!el) return;
          el.style.display = s === id ? "" : "none";
        });
        document.querySelectorAll(".nav-btn[data-key]").forEach((b) => {
          b.classList.toggle("active", b.dataset.key === id);
        });
      }

      document.querySelectorAll(".nav-btn[data-key]").forEach((btn) => {
        btn.addEventListener("click", () => {
          showSection(btn.dataset.key);
          const issuesList = document.getElementById("issuesList");
          if (issuesList && issuesList.style.display === "block") {
            issuesList.style.display = "none";
            document.getElementById("issuesBtn").textContent = "重要问题 ▼";
            document
              .getElementById("issuesBtn")
              .setAttribute("aria-expanded", "false");
          }
        });
      });

      /* 重要问题按钮：展开/收起子菜单 */
      const issuesBtn = document.getElementById("issuesBtn");
      const issuesList = document.getElementById("issuesList");
      let expanded = false;
      issuesBtn.addEventListener("click", () => {
        expanded = !expanded;
        issuesList.style.display = expanded ? "block" : "none";
        issuesBtn.textContent = expanded ? "重要问题 ▲" : "重要问题 ▼";
        issuesBtn.setAttribute("aria-expanded", String(expanded));
        issuesList.setAttribute("aria-hidden", String(!expanded));
      });

      document.querySelectorAll(".sub-item button").forEach((btn) => {
        btn.addEventListener("click", () => {
          const key = btn.dataset.key;
          showSection(key);
        });
      });

      showSection("defaultView");
    </script>
  </body>
</html>
